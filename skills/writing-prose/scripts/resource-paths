#!/usr/bin/env bash

set -euo pipefail

# Check if required environment variables are set
if [[ -z "${WRITING_FORMAT:-}" ]]; then
  echo "Error: Environment variable WRITING_FORMAT is not set" >&2
  exit 1
fi

if [[ -z "${WRITING_VOICE:-}" ]]; then
  echo "Error: Environment variable WRITING_VOICE is not set" >&2
  exit 1
fi

if [[ -z "${WRITING_IMPROVEMENT:-}" ]]; then
  echo "Error: Environment variable WRITING_IMPROVEMENT is not set" >&2
  exit 1
fi

# Output JSON with the paths
cat <<EOF
{
  "format": "$WRITING_FORMAT",
  "voice": "$WRITING_VOICE",
  "improvement": "$WRITING_IMPROVEMENT"
}
EOF
